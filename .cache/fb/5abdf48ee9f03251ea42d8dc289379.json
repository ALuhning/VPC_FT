{"id":"qQPA","dependencies":[{"name":"/home/vitalpointai/projects/token-access/package.json","includedInParent":true,"mtime":1598480400680},{"name":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/package.json","includedInParent":true,"mtime":1597967788890},{"name":"./keystore","loc":{"line":4,"column":27},"parent":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","resolved":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/key_stores/keystore.js"},{"name":"../utils/key_pair","loc":{"line":5,"column":27},"parent":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","resolved":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/utils/key_pair.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.InMemoryKeyStore=void 0;const e=require(\"./keystore\"),s=require(\"../utils/key_pair\");class t extends e.KeyStore{constructor(){super(),this.keys={}}async setKey(e,s,t){this.keys[`${s}:${e}`]=t.toString()}async getKey(e,t){const r=this.keys[`${t}:${e}`];return r?s.KeyPair.fromString(r):null}async removeKey(e,s){delete this.keys[`${s}:${e}`]}async clear(){this.keys={}}async getNetworks(){const e=new Set;return Object.keys(this.keys).forEach(s=>{const t=s.split(\":\");e.add(t[1])}),Array.from(e.values())}async getAccounts(e){const s=new Array;return Object.keys(this.keys).forEach(t=>{const r=t.split(\":\");r[r.length-1]===e&&s.push(r.slice(0,r.length-1).join(\":\"))}),s}}exports.InMemoryKeyStore=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":20}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":35}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":56}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":57}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":64}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":3,"column":0},"generated":{"line":1,"column":68}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":3,"column":0},"generated":{"line":1,"column":76}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":3,"column":0},"generated":{"line":1,"column":98}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":100}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":106}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":108}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":116}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":5,"column":0},"generated":{"line":1,"column":130}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":5,"column":0},"generated":{"line":1,"column":132}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":5,"column":0},"generated":{"line":1,"column":140}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":9,"column":0},"generated":{"line":1,"column":161}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":9,"column":0},"generated":{"line":1,"column":167}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":9,"column":0},"generated":{"line":1,"column":177}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":9,"column":0},"generated":{"line":1,"column":179}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":10,"column":0},"generated":{"line":1,"column":188}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":11,"column":0},"generated":{"line":1,"column":202}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":12,"column":0},"generated":{"line":1,"column":210}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":12,"column":0},"generated":{"line":1,"column":215}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":12,"column":0},"generated":{"line":1,"column":220}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":223}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":236}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":238}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":240}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":21,"column":0},"generated":{"line":1,"column":243}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":21,"column":0},"generated":{"line":1,"column":248}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":21,"column":0},"generated":{"line":1,"column":256}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":21,"column":0},"generated":{"line":1,"column":261}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":21,"column":0},"generated":{"line":1,"column":266}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":21,"column":0},"generated":{"line":1,"column":268}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":279}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":292}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":294}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":297}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":303}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":305}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":310}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":318}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":323}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":31,"column":0},"generated":{"line":1,"column":328}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":31,"column":0},"generated":{"line":1,"column":335}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":34,"column":0},"generated":{"line":1,"column":337}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":34,"column":0},"generated":{"line":1,"column":339}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":34,"column":0},"generated":{"line":1,"column":347}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":34,"column":0},"generated":{"line":1,"column":358}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":32,"column":0},"generated":{"line":1,"column":361}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":366}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":382}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":384}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":42,"column":0},"generated":{"line":1,"column":394}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":42,"column":0},"generated":{"line":1,"column":399}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":42,"column":0},"generated":{"line":1,"column":407}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":42,"column":0},"generated":{"line":1,"column":412}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":47,"column":0},"generated":{"line":1,"column":417}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":48,"column":0},"generated":{"line":1,"column":431}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":48,"column":0},"generated":{"line":1,"column":436}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":48,"column":0},"generated":{"line":1,"column":441}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":54,"column":0},"generated":{"line":1,"column":444}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":55,"column":0},"generated":{"line":1,"column":464}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":55,"column":0},"generated":{"line":1,"column":470}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":55,"column":0},"generated":{"line":1,"column":472}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":55,"column":0},"generated":{"line":1,"column":476}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":480}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":56,"column":0},"generated":{"line":1,"column":487}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":56,"column":0},"generated":{"line":1,"column":494}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":56,"column":0},"generated":{"line":1,"column":499}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":56,"column":0},"generated":{"line":1,"column":504}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":56,"column":0},"generated":{"line":1,"column":510}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":56,"column":0},"generated":{"line":1,"column":518}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":57,"column":0},"generated":{"line":1,"column":522}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":57,"column":0},"generated":{"line":1,"column":528}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":57,"column":0},"generated":{"line":1,"column":530}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":57,"column":0},"generated":{"line":1,"column":532}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":57,"column":0},"generated":{"line":1,"column":538}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":543}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":545}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":549}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":551}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":557}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":563}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":568}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":570}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":67,"column":0},"generated":{"line":1,"column":580}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":67,"column":0},"generated":{"line":1,"column":598}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":68,"column":0},"generated":{"line":1,"column":601}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":68,"column":0},"generated":{"line":1,"column":607}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":68,"column":0},"generated":{"line":1,"column":609}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":68,"column":0},"generated":{"line":1,"column":613}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":619}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":69,"column":0},"generated":{"line":1,"column":626}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":69,"column":0},"generated":{"line":1,"column":633}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":69,"column":0},"generated":{"line":1,"column":638}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":69,"column":0},"generated":{"line":1,"column":643}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":69,"column":0},"generated":{"line":1,"column":649}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":69,"column":0},"generated":{"line":1,"column":657}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":70,"column":0},"generated":{"line":1,"column":661}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":70,"column":0},"generated":{"line":1,"column":667}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":70,"column":0},"generated":{"line":1,"column":669}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":70,"column":0},"generated":{"line":1,"column":671}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":70,"column":0},"generated":{"line":1,"column":677}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":71,"column":0},"generated":{"line":1,"column":682}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":71,"column":0},"generated":{"line":1,"column":684}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":71,"column":0},"generated":{"line":1,"column":686}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":71,"column":0},"generated":{"line":1,"column":693}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":71,"column":0},"generated":{"line":1,"column":698}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":701}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":703}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":708}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":710}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":716}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":718}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":720}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":727}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":730}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":735}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":743}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":78,"column":0},"generated":{"line":1,"column":746}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":78,"column":0},"generated":{"line":1,"column":754}},{"source":"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js","original":{"line":78,"column":0},"generated":{"line":1,"column":771}}],"sources":{"../node_modules/near-api-js/lib/key_stores/in_memory_key_store.js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nconst key_pair_1 = require(\"../utils/key_pair\");\n/**\n * Simple in-memory keystore for testing purposes.\n */\nclass InMemoryKeyStore extends keystore_1.KeyStore {\n    constructor() {\n        super();\n        this.keys = {};\n    }\n    /**\n     * Sets an in-memory storage item\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        this.keys[`${accountId}:${networkId}`] = keyPair.toString();\n    }\n    /**\n     * Gets a key from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        const value = this.keys[`${accountId}:${networkId}`];\n        if (!value) {\n            return null;\n        }\n        return key_pair_1.KeyPair.fromString(value);\n    }\n    /**\n     * Removes a key from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        delete this.keys[`${accountId}:${networkId}`];\n    }\n    /**\n     * Sets all in-memory keys to empty objects\n     */\n    async clear() {\n        this.keys = {};\n    }\n    /**\n     * Get the network(s) from in-memory storage\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        Object.keys(this.keys).forEach((key) => {\n            const parts = key.split(':');\n            result.add(parts[1]);\n        });\n        return Array.from(result.values());\n    }\n    /**\n     * Gets the account(s) from in-memory storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Array();\n        Object.keys(this.keys).forEach((key) => {\n            const parts = key.split(':');\n            if (parts[parts.length - 1] === networkId) {\n                result.push(parts.slice(0, parts.length - 1).join(':'));\n            }\n        });\n        return result;\n    }\n}\nexports.InMemoryKeyStore = InMemoryKeyStore;\n"},"lineCount":null}},"error":null,"hash":"f656fde1e2dc9b0e26f7868738eb5482","cacheData":{"env":{}}}