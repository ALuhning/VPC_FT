{"id":"v3DV","dependencies":[{"name":"/home/vitalpointai/projects/token-access/package.json","includedInParent":true,"mtime":1598133476580},{"name":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/package.json","includedInParent":true,"mtime":1597967788890},{"name":"./keystore","loc":{"line":4,"column":27},"parent":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","resolved":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/key_stores/keystore.js"},{"name":"../utils/key_pair","loc":{"line":5,"column":27},"parent":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","resolved":"/home/vitalpointai/projects/token-access/node_modules/near-api-js/lib/utils/key_pair.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BrowserLocalStorageKeyStore=void 0;const e=require(\"./keystore\"),t=require(\"../utils/key_pair\"),r=\"near-api-js:keystore:\";class s extends e.KeyStore{constructor(e=window.localStorage,t=r){super(),this.localStorage=e,this.prefix=t}async setKey(e,t,r){this.localStorage.setItem(this.storageKeyForSecretKey(e,t),r.toString())}async getKey(e,r){const s=this.localStorage.getItem(this.storageKeyForSecretKey(e,r));return s?t.KeyPair.fromString(s):null}async removeKey(e,t){this.localStorage.removeItem(this.storageKeyForSecretKey(e,t))}async clear(){for(const e of this.storageKeys())e.startsWith(this.prefix)&&this.localStorage.removeItem(e)}async getNetworks(){const e=new Set;for(const t of this.storageKeys())if(t.startsWith(this.prefix)){const r=t.substring(this.prefix.length).split(\":\");e.add(r[1])}return Array.from(e.values())}async getAccounts(e){const t=new Array;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const s=r.substring(this.prefix.length).split(\":\");s[1]===e&&t.push(s[0])}return t}storageKeyForSecretKey(e,t){return`${this.prefix}${t}:${e}`}*storageKeys(){for(let e=0;e<this.localStorage.length;e++)yield this.localStorage.key(e)}}exports.BrowserLocalStorageKeyStore=s;"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":20}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":35}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":43}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":56}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":57}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":2,"column":0},"generated":{"line":1,"column":64}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":3,"column":0},"generated":{"line":1,"column":68}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":3,"column":0},"generated":{"line":1,"column":76}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":3,"column":0},"generated":{"line":1,"column":109}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":111}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":117}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":119}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":4,"column":0},"generated":{"line":1,"column":127}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":5,"column":0},"generated":{"line":1,"column":141}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":5,"column":0},"generated":{"line":1,"column":143}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":5,"column":0},"generated":{"line":1,"column":151}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":6,"column":0},"generated":{"line":1,"column":172}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":6,"column":0},"generated":{"line":1,"column":174}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":7,"column":0},"generated":{"line":1,"column":198}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":7,"column":0},"generated":{"line":1,"column":204}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":7,"column":0},"generated":{"line":1,"column":214}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":7,"column":0},"generated":{"line":1,"column":216}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":8,"column":0},"generated":{"line":1,"column":225}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":8,"column":0},"generated":{"line":1,"column":237}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":8,"column":0},"generated":{"line":1,"column":239}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":8,"column":0},"generated":{"line":1,"column":246}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":8,"column":0},"generated":{"line":1,"column":259}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":8,"column":0},"generated":{"line":1,"column":261}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":9,"column":0},"generated":{"line":1,"column":264}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":10,"column":0},"generated":{"line":1,"column":272}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":10,"column":0},"generated":{"line":1,"column":277}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":10,"column":0},"generated":{"line":1,"column":290}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":11,"column":0},"generated":{"line":1,"column":292}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":11,"column":0},"generated":{"line":1,"column":297}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":11,"column":0},"generated":{"line":1,"column":304}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":19,"column":0},"generated":{"line":1,"column":306}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":19,"column":0},"generated":{"line":1,"column":319}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":19,"column":0},"generated":{"line":1,"column":321}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":19,"column":0},"generated":{"line":1,"column":323}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":326}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":331}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":344}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":352}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":357}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":380}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":382}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":385}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":20,"column":0},"generated":{"line":1,"column":387}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":28,"column":0},"generated":{"line":1,"column":399}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":28,"column":0},"generated":{"line":1,"column":412}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":28,"column":0},"generated":{"line":1,"column":414}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":417}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":423}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":425}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":430}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":443}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":451}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":456}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":479}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":29,"column":0},"generated":{"line":1,"column":481}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":485}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":30,"column":0},"generated":{"line":1,"column":492}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":33,"column":0},"generated":{"line":1,"column":494}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":33,"column":0},"generated":{"line":1,"column":496}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":33,"column":0},"generated":{"line":1,"column":504}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":33,"column":0},"generated":{"line":1,"column":515}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":31,"column":0},"generated":{"line":1,"column":518}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":40,"column":0},"generated":{"line":1,"column":523}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":40,"column":0},"generated":{"line":1,"column":539}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":40,"column":0},"generated":{"line":1,"column":541}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":544}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":549}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":562}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":573}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":578}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":601}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":41,"column":0},"generated":{"line":1,"column":603}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":46,"column":0},"generated":{"line":1,"column":607}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":47,"column":0},"generated":{"line":1,"column":621}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":47,"column":0},"generated":{"line":1,"column":625}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":47,"column":0},"generated":{"line":1,"column":631}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":47,"column":0},"generated":{"line":1,"column":636}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":47,"column":0},"generated":{"line":1,"column":641}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":48,"column":0},"generated":{"line":1,"column":655}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":48,"column":0},"generated":{"line":1,"column":657}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":48,"column":0},"generated":{"line":1,"column":668}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":48,"column":0},"generated":{"line":1,"column":673}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":49,"column":0},"generated":{"line":1,"column":682}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":49,"column":0},"generated":{"line":1,"column":687}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":49,"column":0},"generated":{"line":1,"column":700}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":49,"column":0},"generated":{"line":1,"column":711}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":57,"column":0},"generated":{"line":1,"column":714}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":734}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":740}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":742}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":58,"column":0},"generated":{"line":1,"column":746}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":59,"column":0},"generated":{"line":1,"column":750}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":59,"column":0},"generated":{"line":1,"column":754}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":59,"column":0},"generated":{"line":1,"column":760}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":59,"column":0},"generated":{"line":1,"column":765}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":59,"column":0},"generated":{"line":1,"column":770}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":784}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":787}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":789}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":800}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":805}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":60,"column":0},"generated":{"line":1,"column":813}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":814}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":820}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":822}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":824}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":834}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":839}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":846}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":854}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":61,"column":0},"generated":{"line":1,"column":860}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":62,"column":0},"generated":{"line":1,"column":865}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":62,"column":0},"generated":{"line":1,"column":867}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":62,"column":0},"generated":{"line":1,"column":871}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":62,"column":0},"generated":{"line":1,"column":873}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":65,"column":0},"generated":{"line":1,"column":877}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":65,"column":0},"generated":{"line":1,"column":884}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":65,"column":0},"generated":{"line":1,"column":890}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":65,"column":0},"generated":{"line":1,"column":895}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":65,"column":0},"generated":{"line":1,"column":897}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":907}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":72,"column":0},"generated":{"line":1,"column":925}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":73,"column":0},"generated":{"line":1,"column":928}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":73,"column":0},"generated":{"line":1,"column":934}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":73,"column":0},"generated":{"line":1,"column":936}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":73,"column":0},"generated":{"line":1,"column":940}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":74,"column":0},"generated":{"line":1,"column":946}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":74,"column":0},"generated":{"line":1,"column":950}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":74,"column":0},"generated":{"line":1,"column":956}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":74,"column":0},"generated":{"line":1,"column":961}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":74,"column":0},"generated":{"line":1,"column":966}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":980}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":983}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":985}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":996}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":1001}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":75,"column":0},"generated":{"line":1,"column":1009}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1010}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1016}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1018}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1020}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1030}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1035}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1042}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1050}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":76,"column":0},"generated":{"line":1,"column":1056}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1061}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1063}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":77,"column":0},"generated":{"line":1,"column":1068}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1071}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1073}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1078}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":78,"column":0},"generated":{"line":1,"column":1080}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1084}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":82,"column":0},"generated":{"line":1,"column":1091}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1093}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1116}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":90,"column":0},"generated":{"line":1,"column":1118}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1121}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1130}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1135}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1144}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":91,"column":0},"generated":{"line":1,"column":1149}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":93,"column":0},"generated":{"line":1,"column":1153}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1168}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1172}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1176}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1178}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1180}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1182}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1187}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1200}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":94,"column":0},"generated":{"line":1,"column":1207}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1217}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1222}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1235}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":95,"column":0},"generated":{"line":1,"column":1239}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1243}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1251}},{"source":"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js","original":{"line":99,"column":0},"generated":{"line":1,"column":1279}}],"sources":{"../node_modules/near-api-js/lib/key_stores/browser_local_storage_key_store.js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BrowserLocalStorageKeyStore = void 0;\nconst keystore_1 = require(\"./keystore\");\nconst key_pair_1 = require(\"../utils/key_pair\");\nconst LOCAL_STORAGE_KEY_PREFIX = 'near-api-js:keystore:';\nclass BrowserLocalStorageKeyStore extends keystore_1.KeyStore {\n    constructor(localStorage = window.localStorage, prefix = LOCAL_STORAGE_KEY_PREFIX) {\n        super();\n        this.localStorage = localStorage;\n        this.prefix = prefix;\n    }\n    /**\n     * Sets a local storage item\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @param keyPair The key pair to store in local storage\n     */\n    async setKey(networkId, accountId, keyPair) {\n        this.localStorage.setItem(this.storageKeyForSecretKey(networkId, accountId), keyPair.toString());\n    }\n    /**\n     * Gets a key from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     * @returns {Promise<KeyPair>}\n     */\n    async getKey(networkId, accountId) {\n        const value = this.localStorage.getItem(this.storageKeyForSecretKey(networkId, accountId));\n        if (!value) {\n            return null;\n        }\n        return key_pair_1.KeyPair.fromString(value);\n    }\n    /**\n     * Removes a key from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the key pair\n     */\n    async removeKey(networkId, accountId) {\n        this.localStorage.removeItem(this.storageKeyForSecretKey(networkId, accountId));\n    }\n    /**\n     * Removes all items from local storage\n     */\n    async clear() {\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                this.localStorage.removeItem(key);\n            }\n        }\n    }\n    /**\n     * Get the network(s) from local storage\n     * @returns {Promise<string[]>}\n     */\n    async getNetworks() {\n        const result = new Set();\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                const parts = key.substring(this.prefix.length).split(':');\n                result.add(parts[1]);\n            }\n        }\n        return Array.from(result.values());\n    }\n    /**\n     * Gets the account(s) from local storage\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @returns{Promise<string[]>}\n     */\n    async getAccounts(networkId) {\n        const result = new Array();\n        for (const key of this.storageKeys()) {\n            if (key.startsWith(this.prefix)) {\n                const parts = key.substring(this.prefix.length).split(':');\n                if (parts[1] === networkId) {\n                    result.push(parts[0]);\n                }\n            }\n        }\n        return result;\n    }\n    /**\n     * Helper function to retrieve a local storage key\n     * @param networkId The targeted network. (ex. default, betanet, etc…)\n     * @param accountId The NEAR account tied to the storage keythat's sought\n     * @returns {string} An example might be: `near-api-js:keystore:near-friend:default`\n     */\n    storageKeyForSecretKey(networkId, accountId) {\n        return `${this.prefix}${accountId}:${networkId}`;\n    }\n    *storageKeys() {\n        for (let i = 0; i < this.localStorage.length; i++) {\n            yield this.localStorage.key(i);\n        }\n    }\n}\nexports.BrowserLocalStorageKeyStore = BrowserLocalStorageKeyStore;\n"},"lineCount":null}},"error":null,"hash":"28b67d99f425c1f25921e99e9d09f331","cacheData":{"env":{}}}